<section class="tm-modal">

  <!-- HEADER -->
  <header class="tm-modal__header">
    <button
      type="button"
      class="tm-modal__close"
      (click)="close.emit()"
    >
      â†
    </button>

    <div class="tm-modal__title">
      <strong>Escolher horÃ¡rio</strong>
      <span>Selecione a data e o horÃ¡rio</span>
    </div>
  </header>

  <!-- DATE -->
  <div class="tm-modal__date">
    <label class="tm-label">Data</label>
    <input
      type="date"
      class="input"
      [min]="minDate()"
      [(ngModel)]="date"
      (change)="load()"
    />
  </div>

  <!-- FILTERS -->
  <div class="time-filters">
    <button
      type="button"
      class="time-filter"
      [class.active]="period() === 'morning'"
      (click)="setPeriod('morning')"
    >
      ğŸŒ… ManhÃ£
    </button>

    <button
      type="button"
      class="time-filter"
      [class.active]="period() === 'afternoon'"
      (click)="setPeriod('afternoon')"
    >
      â˜€ï¸ Tarde
    </button>

    <button
      type="button"
      class="time-filter"
      [class.active]="period() === 'evening'"
      (click)="setPeriod('evening')"
    >
      ğŸŒ™ Noite
    </button>

    <button
      type="button"
      class="time-filter reset"
      *ngIf="period()"
      (click)="setPeriod(null)"
    >
      Limpar
    </button>
  </div>

  <!-- CONTENT -->
  <div class="tm-modal__content">

    <!-- LOADING -->
    <p class="tm-modal__empty" *ngIf="loading()">
      Carregando horÃ¡rios...
    </p>

    <!-- SLOTS -->
    <div class="slots" *ngIf="!loading() && filteredSlots().length">
      <button
        class="slot-card"
        *ngFor="let s of filteredSlots()"
        (click)="pick(s)"
      >
        {{ s.start }}
      </button>
    </div>

    <!-- EMPTY -->
    <p
      class="tm-modal__empty"
      *ngIf="!loading() && !filteredSlots().length"
    >
      Nenhum horÃ¡rio disponÃ­vel para este perÃ­odo.
    </p>

  </div>

</section>
